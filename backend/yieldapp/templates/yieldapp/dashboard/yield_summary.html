<h1>Yield Performance Dashboard</h1>

<table border="1" cellpadding="5" cellspacing="0" style="width: 100%; border-collapse: collapse;">
    <thead style="background-color: #f2f2f2;">
        <tr>
            <th>Batch Number</th>
            <th>Product</th>
            <th>Tanggal Proses</th>
            <th>Final Output (pcs)</th>
            <th>Theoretical Yield (pcs)</th>
            <th>Target Yield</th>
            <th>Actual Yield</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        {% for data in yield_data_list %}
        <tr style="background-color: {% if data.is_achieved %}#d4edda{% else %}#f8d7da{% endif %};">
            <td>{{ data.batch.batch_number }}</td>
            <td>{{ data.batch.product.name }}</td>
            <td>{{ data.tanggal_proses }}</td>
            <td>{{ data.handover_output|default:"-" }}</td>
            <td>{{ data.batch.product.theoritical_yield_pcs }}</td>
            <td>{{ data.target_yield }}%</td>
            <td><b>{{ data.final_yield_percentage }}%</b></td>
            <td>
                {% if data.is_achieved %}
                    <span style="color: green;">✔ tercapai</span>
                {% else %}
                    <span style="color: red;">❌ Tidak tercapai</span>
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="8" style="text-align: center;">Belum ada data produksi.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>